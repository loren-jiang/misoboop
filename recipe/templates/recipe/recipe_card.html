{% load thumbnail %}
{% load ratings %}
{% load recipe_extras %}

<div class="card recipe-card">
    <div class="card-image waves-effect waves-block waves-light">

        {% thumbnail recipe.image.upload "500x500" crop="center" as im %}
            <img class="activator" src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}">
        {% empty %}
            <img class="activator" src="{{ recipe.placeholder_url }}">
        {% endthumbnail %}
        {#        <img class="activator" src={{ recipe.image.upload.url }}>#}
    </div>
    <div class="card-content">
        <span class="activator card-title grey-text text-darken-4">
            <b class="activator">{{ recipe.name }}</b>
{#            <i class="material-icons right">more_vert</i>#}
        </span>
        {#        <p><a class="btn waves-effect" href={{ recipe.get_absolute_url }}>See recipe</a></p>#}
    </div>
    <div class="card-reveal">
        <span class="card-title grey-text text-darken-4 flowy-font">
            <b>{{ recipe.name }}</b>
            <i class="material-icons right">close</i>
        </span>
        <hr>

        <div>
            {% for tag in recipe.tags.all %}
                <span class="chip"> {{ tag.name }} </span>
            {% endfor %}
        </div>

        <div>
            <a class="btn waves-effect" href={{ recipe.get_absolute_url }}>See recipe</a>
        </div>
        {#        {% ratings recipe template_name="recipe/dumpling_ratings.html" icon_height=25 icon_width=25 read_only=True %}#}

        <div class="row">
            <div class="col">
                <ul>
                    <li>
                        Prep time: {{ recipe.prep_time|min_to_hr }}
                    </li>
                    <li>
                        Cook time: {{ recipe.cook_time|min_to_hr }}
                    </li>
                    <li>
                        Total time: {{ recipe.total_time|min_to_hr }}
                    </li>
                    <hr>
                    <li>
                        Servings: {{ recipe.servings }}
                    </li>
                </ul>
            </div>
        </div>


        {% if recipe.short_description %}
            <hr>
            <p>About: {{ recipe.short_description }}</p>
        {% endif %}
    </div>
</div>